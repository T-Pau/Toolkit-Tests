program parallel-struct
arguments spec.yaml
return 0

file spec.yaml <>
settings:
  prefix: test_

fields:
  name:
    type: omit
  icon:
    default_value: "icon_{{name}}"
  description:
    default_value: "{{name}}_description"
  title:
    type: string
    nul_terminate: true
    default_value: "{{name}}:"

structs:
  -
    name: one
  -
    name: two
    icon: icon_one
  -
    name: three
end-of-inline-data

file spec.s {} <>
; This file is automatically created by parallel-struct from spec.yaml.
; Do not edit.

.section data

test_count {
    .data 3
}

test_icon {
    .data icon_one
    .data icon_one
    .data icon_three
}

test_description {
    .data one_description
    .data two_description
    .data three_description
}

test_title_0 {
    .data "one:", 0
}

test_title_1 {
    .data "two:", 0
}

test_title_2 {
    .data "three:", 0
}

test_title {
    .data test_title_0
    .data test_title_1
    .data test_title_2
}
end-of-inline-data